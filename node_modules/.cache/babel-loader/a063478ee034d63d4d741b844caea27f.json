{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = typeValidator;\n\nvar _SimpleSchema = require(\"../../SimpleSchema\");\n\nvar _doDateChecks = _interopRequireDefault(require(\"./doDateChecks\"));\n\nvar _doNumberChecks = _interopRequireDefault(require(\"./doNumberChecks\"));\n\nvar _doStringChecks = _interopRequireDefault(require(\"./doStringChecks\"));\n\nvar _doArrayChecks = _interopRequireDefault(require(\"./doArrayChecks\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction typeValidator() {\n  if (!this.valueShouldBeChecked) return;\n  var def = this.definition;\n  var expectedType = def.type;\n  var keyValue = this.value;\n  var op = this.operator;\n  if (expectedType === String) return (0, _doStringChecks.default)(def, keyValue);\n  if (expectedType === Number) return (0, _doNumberChecks.default)(def, keyValue, op, false);\n  if (expectedType === _SimpleSchema.SimpleSchema.Integer) return (0, _doNumberChecks.default)(def, keyValue, op, true);\n\n  if (expectedType === Boolean) {\n    // Is it a boolean?\n    if (typeof keyValue === 'boolean') return;\n    return {\n      type: _SimpleSchema.SimpleSchema.ErrorTypes.EXPECTED_TYPE,\n      dataType: 'Boolean'\n    };\n  }\n\n  if (expectedType === Object || _SimpleSchema.SimpleSchema.isSimpleSchema(expectedType)) {\n    // Is it an object?\n    if (Object.prototype.toString.call(keyValue) === '[object Object]') return;\n    return {\n      type: _SimpleSchema.SimpleSchema.ErrorTypes.EXPECTED_TYPE,\n      dataType: 'Object'\n    };\n  }\n\n  if (expectedType === Array) return (0, _doArrayChecks.default)(def, keyValue);\n\n  if (expectedType instanceof Function) {\n    // Generic constructor checks\n    if (!(keyValue instanceof expectedType)) return {\n      type: _SimpleSchema.SimpleSchema.ErrorTypes.EXPECTED_TYPE,\n      dataType: expectedType.name\n    }; // Date checks\n\n    if (expectedType === Date) return (0, _doDateChecks.default)(def, keyValue);\n  }\n}\n\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;","map":{"version":3,"sources":["/Users/rjgleave/mysrc/oneq-work/sa-form/node_modules/simpl-schema/dist/validation/typeValidator/index.js"],"names":["Object","defineProperty","exports","value","default","typeValidator","_SimpleSchema","require","_doDateChecks","_interopRequireDefault","_doNumberChecks","_doStringChecks","_doArrayChecks","obj","__esModule","valueShouldBeChecked","def","definition","expectedType","type","keyValue","op","operator","String","Number","SimpleSchema","Integer","Boolean","ErrorTypes","EXPECTED_TYPE","dataType","isSimpleSchema","prototype","toString","call","Array","Function","name","Date","module"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = typeValidator;\n\nvar _SimpleSchema = require(\"../../SimpleSchema\");\n\nvar _doDateChecks = _interopRequireDefault(require(\"./doDateChecks\"));\n\nvar _doNumberChecks = _interopRequireDefault(require(\"./doNumberChecks\"));\n\nvar _doStringChecks = _interopRequireDefault(require(\"./doStringChecks\"));\n\nvar _doArrayChecks = _interopRequireDefault(require(\"./doArrayChecks\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction typeValidator() {\n  if (!this.valueShouldBeChecked) return;\n  var def = this.definition;\n  var expectedType = def.type;\n  var keyValue = this.value;\n  var op = this.operator;\n  if (expectedType === String) return (0, _doStringChecks.default)(def, keyValue);\n  if (expectedType === Number) return (0, _doNumberChecks.default)(def, keyValue, op, false);\n  if (expectedType === _SimpleSchema.SimpleSchema.Integer) return (0, _doNumberChecks.default)(def, keyValue, op, true);\n\n  if (expectedType === Boolean) {\n    // Is it a boolean?\n    if (typeof keyValue === 'boolean') return;\n    return {\n      type: _SimpleSchema.SimpleSchema.ErrorTypes.EXPECTED_TYPE,\n      dataType: 'Boolean'\n    };\n  }\n\n  if (expectedType === Object || _SimpleSchema.SimpleSchema.isSimpleSchema(expectedType)) {\n    // Is it an object?\n    if (Object.prototype.toString.call(keyValue) === '[object Object]') return;\n    return {\n      type: _SimpleSchema.SimpleSchema.ErrorTypes.EXPECTED_TYPE,\n      dataType: 'Object'\n    };\n  }\n\n  if (expectedType === Array) return (0, _doArrayChecks.default)(def, keyValue);\n\n  if (expectedType instanceof Function) {\n    // Generic constructor checks\n    if (!(keyValue instanceof expectedType)) return {\n      type: _SimpleSchema.SimpleSchema.ErrorTypes.EXPECTED_TYPE,\n      dataType: expectedType.name\n    }; // Date checks\n\n    if (expectedType === Date) return (0, _doDateChecks.default)(def, keyValue);\n  }\n}\n\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;"]},"metadata":{},"sourceType":"script"}