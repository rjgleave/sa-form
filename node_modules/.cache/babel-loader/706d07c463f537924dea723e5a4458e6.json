{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _SimpleSchema = require(\"../SimpleSchema\");\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n/**\n * Converts value to proper type\n *\n * @param {Any} value Value to try to convert\n * @param {Any} type  A type\n * @returns {Any} Value converted to type.\n */\n\n\nfunction convertToProperType(value, type) {\n  // Can't and shouldn't convert arrays or objects or null\n  if (Array.isArray(value) || value && (typeof value === 'function' || _typeof(value) === 'object') && !(value instanceof Date) || value === null) return value; // Convert to String type\n\n  if (type === String) {\n    if (value === null || value === undefined) return value;\n    return value.toString();\n  } // Convert to Number type\n\n\n  if (type === Number || type === _SimpleSchema.SimpleSchema.Integer) {\n    if (typeof value === 'string' && value.length > 0) {\n      // Try to convert numeric strings to numbers\n      var numberVal = Number(value);\n      if (!isNaN(numberVal)) return numberVal;\n    } // Leave it; will fail validation\n\n\n    return value;\n  } // If target type is a Date we can safely convert from either a\n  // number (Integer value representing the number of milliseconds\n  // since 1 January 1970 00:00:00 UTC) or a string that can be parsed\n  // by Date.\n\n\n  if (type === Date) {\n    if (typeof value === 'string') {\n      var parsedDate = Date.parse(value);\n      if (isNaN(parsedDate) === false) return new Date(parsedDate);\n    }\n\n    if (typeof value === 'number') return new Date(value);\n  } // Convert to Boolean type\n\n\n  if (type === Boolean) {\n    if (typeof value === 'string') {\n      // Convert exact string 'true' and 'false' to true and false respectively\n      if (value.toLowerCase() === 'true') return true;\n      if (value.toLowerCase() === 'false') return false;\n    } else if (typeof value === 'number' && !isNaN(value)) {\n      // NaN can be error, so skipping it\n      return Boolean(value);\n    }\n  } // If an array is what you want, I'll give you an array\n\n\n  if (type === Array) return [value]; // Could not convert\n\n  return value;\n}\n\nvar _default = convertToProperType;\nexports.default = _default;\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;","map":{"version":3,"sources":["/Users/rjgleave/mysrc/oneq-work/sa-form/node_modules/simpl-schema/dist/clean/convertToProperType.js"],"names":["Object","defineProperty","exports","value","default","_SimpleSchema","require","_typeof","obj","Symbol","iterator","constructor","prototype","convertToProperType","type","Array","isArray","Date","String","undefined","toString","Number","SimpleSchema","Integer","length","numberVal","isNaN","parsedDate","parse","Boolean","toLowerCase","_default","module"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _SimpleSchema = require(\"../SimpleSchema\");\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n * Converts value to proper type\n *\n * @param {Any} value Value to try to convert\n * @param {Any} type  A type\n * @returns {Any} Value converted to type.\n */\nfunction convertToProperType(value, type) {\n  // Can't and shouldn't convert arrays or objects or null\n  if (Array.isArray(value) || value && (typeof value === 'function' || _typeof(value) === 'object') && !(value instanceof Date) || value === null) return value; // Convert to String type\n\n  if (type === String) {\n    if (value === null || value === undefined) return value;\n    return value.toString();\n  } // Convert to Number type\n\n\n  if (type === Number || type === _SimpleSchema.SimpleSchema.Integer) {\n    if (typeof value === 'string' && value.length > 0) {\n      // Try to convert numeric strings to numbers\n      var numberVal = Number(value);\n      if (!isNaN(numberVal)) return numberVal;\n    } // Leave it; will fail validation\n\n\n    return value;\n  } // If target type is a Date we can safely convert from either a\n  // number (Integer value representing the number of milliseconds\n  // since 1 January 1970 00:00:00 UTC) or a string that can be parsed\n  // by Date.\n\n\n  if (type === Date) {\n    if (typeof value === 'string') {\n      var parsedDate = Date.parse(value);\n      if (isNaN(parsedDate) === false) return new Date(parsedDate);\n    }\n\n    if (typeof value === 'number') return new Date(value);\n  } // Convert to Boolean type\n\n\n  if (type === Boolean) {\n    if (typeof value === 'string') {\n      // Convert exact string 'true' and 'false' to true and false respectively\n      if (value.toLowerCase() === 'true') return true;\n      if (value.toLowerCase() === 'false') return false;\n    } else if (typeof value === 'number' && !isNaN(value)) {\n      // NaN can be error, so skipping it\n      return Boolean(value);\n    }\n  } // If an array is what you want, I'll give you an array\n\n\n  if (type === Array) return [value]; // Could not convert\n\n  return value;\n}\n\nvar _default = convertToProperType;\nexports.default = _default;\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;"]},"metadata":{},"sourceType":"script"}